#! / bin / bash cd $ HOME SCPdir = "/ etc / newadm" SCPinstal = "$ HOME / install" SCPidioma = "$ {SCPdir} / idioma" SCPusr = "$ {SCPdir} / ger-user" SCPfrm = "/ etc / ger-frm "SCPinst =" / etc / ger-inst " [[$ (dpkg --get-selections | grep -w" gawk "| head -1)] ] || apt-get install gawk -y &> / dev / null [[$ (dpkg --get-selections | grep -w "mlocate" | head -1)] ] || apt-get install mlocate -y &> / dev / null rm $ (pwd) / $ 0 &> / dev / null msg () {BRAN = '\ 033[1; 37m '&& VERMELHO =' \ e [31m '&& VERDE =' \ e [32m '&& AMARELO =' \ e [33m 'AZUL =' \ e [34m '&& MAGENTA =' \ e [35m '&& MAG =' \ 033 [1; 36m '&& NEGRITO =' \ e [1m '&& SEMCOR =' \ e [0m 'caso $ 1 en -ne) cor = "$ {VERMELHO} $ {NEGRITO}" && echo -ne "$ {cor} $ { 2} $ {SEMCOR} ";; -ama) cor = "$ {AMARELO} $ {NEGRITO}" && echo -e "$ {cor} $ {2} $ {SEMCOR}" ;; -verm) cor = "$ {AMARELO} $ {NEGRITO} [!]     [0-9] {1,3} \. [0-9] {1,3} \. [0-9] {1,3 } \. [0-9] {1,3} '| cabeza -1) MIP2 = $ (wget -qO- ipv4.icanhazip.com) [["$ MIP"! = "$ MIP2" ] ] && IP = "$ MIP2" || IP = "$ MIP"} inst_components () { [[$ (dpkg --get-selections | grep -w "nano" | head -1)]] || apt-get install nano -y &> / dev / null [[$ (dpkg --get-selections | grep -w "bc" | head -1)] ] || apt-get install bc -y &> / dev / null [[$ (dpkg --get-selections | grep -w "screen" | head -1)] ] || apt-get install screen -y &> / dev / null [[$ (dpkg --get-selections | grep -w "python" El | cabeza -1)] ] || apt-get install python -y &> / dev / null [[$ (dpkg --get-selections | grep -w "python3" | cabeza -1)] ] || apt-get install python3 -y &> / dev / null [[$ (dpkg --get-selections | grep -w "curl" | head -1)] ] || apt-get install curl -y &> / dev / null [[$ (dpkg --get-selections | grep -w "ufw" El | cabeza -1)] ] || apt-get install ufw -y &> / dev / null[[$ (dpkg --get-selections | grep -w "descomprimir" | cabeza -1)] ] || apt-get install descomprime -y &> / dev / null [[$ (dpkg --get-selections | grep -w "zip" | head -1)] ] || apt-get install zip -y &> / dev / null [[$ (dpkg --get-selections | grep -w "apache2" | head -1)] ] || {apt-get install apache2 -y &> / dev / null sed -i "s; Listen 80; Listen 81; g" /etc/apache2/ports.conf service apache2 restart> / dev / null 2> & 1 &} } funcao_idioma () {msg -bar2 declare -A idioma = ( [1] = "en inglés" [2] = " [5] =" pl polaco " [6] =" pt portugués " [7] =" = " } | cortar -d '' - f2) " [[-z $ valor1]] && romper valor1 = "\ 033 [1; 32m [$ i] > \ 033 [1; 33m $ valor1"] ; do valor1 = $ valor1 "" echo hecho -ne "$ valor1" let i ++ valor2 = "$ (echo $ {idioma [$ i] } | cut -d '' -f2)" [[-z $ valor2] ] && {echo -e "" break} valor2 = "\ 033 [1; 32m [$ i] > \ 033 [1; 33m $ valor2" mientras que [[$ {# valor2} -lt 37] ]; do valor2 = $ valor2 "" echo hecho -ne "$ valor2" let i ++ valor3 = "] && {echo -e" "break} valor3 =" \ 033 [1; 32m [$ i] > \ 033 [1;] ; do valor3 = $ valor3 "" hecho echo -e "$ valor3" hecho mensaje -bar2 desarmar selección mientras que [[$ {selection}! = @ ([1-8] )]]; do echo -ne "\ 033[1; 37m SELECCIONAR: "&& leer selección tput cuu1 && tput dl1 done pv =" $ (echo $ {idioma [$ selection] } | cut -d '' -f1) " [[$ {# id} -gt 2] ] && id = "pt" || id = "$ pv" byinst = "true"} install_fim () {msg -ama "$ (fuente trans -b pt: $ {id}" Instalacao Completa, utilizar los comandos "| sed -e ') txt [$ i] = "2" ;; "3") txt [$ i] = "%" ;; "%") txt [$ i] = "3" ;; "/") txt [$ i] = "K" ;; "K") txt [$ i] = "/" ;; esac txtofus + = "$ {txt) ARQ =" $ {SCPinst} / ";; #Instalacao" sockspy.sh " | "PDirect.py" | "PPub.py" | "PPriv.py" | "POpen.py" | "PGet.py") ARQ = "$ {SCPinst} /" ;; # Instalacao *) ARQ = "$ {SCPfrm} /" ;; [EMI - VPS - SCRIPT]" [[$ 1 =" "] ] && funcao_idioma || { [[$ {# 1} -gt 2] ] && funcao_idioma || id =" $ 1 "} error_fun () {msg -bar2 && msg -verm" $ (fuente trans -b pt: $ {id} "Esta Chave Era de nuestro servidor Servidor Portanto Foi Excluida" | sed -e 's / [^ az -] // ig') "&& [[-e $ HOME / lista-arq] ] && rm $ HOME / lista-arq salida 1} mientras [[! $ Clave] ]; hacer msg -ne "Clave de script:" && leer Key tput cuu1 && [1; 32m verificado "|| {echo -e "\ 033 [1; 32m verificado" salida de clave inválida} IP = $ (ofus "$ Key" | grep -vE '127 \. [0-9] {1,3} \. [0-9] {1,3} \. [0-9] {1,3} '| grep -o -E ' [0-9] {1,3} \.[0-9] {1,3} \. [0-9] {1,3} \. [0-9] {1,3} ') && echo "$ IP"> / usr / bin / vendor_code sleep 1s actualizadob si [[-e $ HOME / lista-arq] ] && [[!] ; luego msg -bar2 msg -ama "$ (fuente trans -b pt: $ {id}" BEM VINDO, OBRIGADO POR UTILIZAR "| sed -e 's / [^ az -] // ig'): \ 033 [1 ; 31m [ADM-EMI-VPS] " [[! -D $ {SCPinstal}] ] && mkdir $ {SCPinstal} pontos = "." stopping = "$ (fuente trans -b pt: $ {id}" Verificando Atualizacoes "| sed -e 's / [^ az -]// ig ') "para arqx es $ (cat $ HOME / lista-arq); hacer msg -verm" $ {stopping} $ {pontos} "wget -O $ {SCPinstal} / $ {arqx} $ {IP} : 81 / $ {SOLICITAR} / $ {arqx}> / dev / null 2> & 1 && verificar_arq "$ {arqx}" || error_fun tput cuu1 && tput dl1 pontos + = "."] && rm $ listaarqs cat / etc / bash.bashrc | grep -v ' [[$ $ UID! = 0] ] && TMOUT = 15 && export TMOUT'> /etc/bash.bashrc.2 echo -e ' [[$ $ UID! = 0] ] && TMOUT = 15 && export TMOUT '>> /etc/bash.bashrc.2 mv -f /etc/bash.bashrc.2 /etc/bash.bashrc echo "$ {SCPdir} / menu"> / usr / bin / menu && chmod + x / usr / bin / menu echo "$ {SCPdir} / menu"> / usr / bin / adm &&chmod + x / usr / bin / adm inst_components echo "$ Key"> $ {SCPdir} / key.txt [[-d $ {SCPinstal}] ] && rm -rf $ {SCPinstal}[[$ {# id} -gt 2] ] && echo "pt"> $ {SCPidioma} || echo "$ {id}"> $ {SCPidioma} [[$ {byinst} =
